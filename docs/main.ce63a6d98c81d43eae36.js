(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return a(e,u(e,t,"set"),n),n}function a(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}function i(e,t,n){return l(e,t),c(n,"get"),d(e,n)}function c(e,t){if(void 0===e)throw new TypeError("attempted to "+t+" private static field before its declaration")}function l(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}function s(e,t){return d(e,u(e,t,"get"))}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function d(e,t){return t.get?t.get.call(e):t.value}e.d({},{O:()=>T});var f=new WeakMap,p=function(){function e(){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f.set(this,{writable:!0,value:[]}),this.loadTasks(),i(e,e,h))return console.log("Ya existe el servicio de tareas"),i(e,e,h);var t,n,r;console.log("Servicio de tareas creado"),n=h,r=this,l(t=e,e),c(n,"set"),a(t,n,r)}var n,u,d;return n=e,(u=[{key:"taskList",get:function(){return t(s(this,f))}},{key:"addTask",value:function(e){s(this,f).push(e),this.setTasks()}},{key:"deleteTask",value:function(e){for(var t in s(this,f))if(s(this,f)[t].id==e){s(this,f).splice(t,1),this.setTasks();break}}},{key:"toggleCompleted",value:function(e){for(var t in s(this,f))if(s(this,f)[t].id==e){s(this,f)[t].completed=!s(this,f)[t].completed,this.setTasks();break}}},{key:"deleteCompletedTasks",value:function(){o(this,f,s(this,f).filter((function(e){return!e.completed}))),this.setTasks()}},{key:"setTasks",value:function(){localStorage.setItem("tasks",JSON.stringify(s(this,f)))}},{key:"loadTasks",value:function(){o(this,f,localStorage.getItem("tasks")?JSON.parse(localStorage.getItem("tasks")):[])}}])&&r(n.prototype,u),d&&r(n,d),e}(),h={writable:!0,value:void 0};var m=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=(new Date).getTime(),this.name=t,this.completed=!1,this.created_at=new Date},v=document.querySelector(".todo-list"),g=document.querySelector(".new-todo"),y=document.querySelector(".clear-completed"),k=document.querySelector(".filters"),b=function(e){var t='\n    <li class="'.concat(e.completed?"completed":"pending",'" id="').concat(e.id,'">\n        <div class="view">\n            <input class="toggle" type="checkbox" ').concat(e.completed?"checked":"",">\n            <label>").concat(e.name,'</label>\n            <button class="destroy"></button>\n        </div>\n        <input class="edit" value="Rule the web">\n    </li>');return v.innerHTML+=t,t};g.addEventListener("keyup",(function(e){if(13===e.keyCode&&e.target.value.length>0){var t=new m(e.target.value);T.addTask(t),b(t),e.target.value=""}})),v.addEventListener("click",(function(e){var t=e.target.parentElement.parentElement,n=t.getAttribute("id");"input"===e.target.localName&&(T.toggleCompleted(n),t.classList.toggle("completed")),"button"===e.target.localName&&(T.deleteTask(n),t.remove())})),y.addEventListener("click",(function(e){var t=document.querySelectorAll(".completed");T.deleteCompletedTasks(),t.forEach((function(e){e.remove()}))})),k.addEventListener("click",(function(e){e.target.text&&w(e.target.text.toLowerCase())}));var w=function(e){var t={todos:function(){document.querySelectorAll(".hidden").forEach((function(e){e.classList.toggle("hidden")}))},pendientes:function(){document.querySelectorAll(".completed").forEach((function(e){e.classList.toggle("hidden")}))},completados:function(){document.querySelectorAll(".pending").forEach((function(e){e.classList.toggle("hidden")}))},default:function(){return t.todos()}};return(t[e]||t.default)()},T=new p;T.taskList.forEach((function(e){b(e)}))})();